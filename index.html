<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>d20.js</title>
		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
		<style>
		footer { margin: 2em 0 1em; text-align: center; }
		footer a { color: inherit; }
		input[type=text] { margin-bottom: 0.25em; }
		</style>
	</head>
	<body>
		<div class="container">
			<header class="page-header">
				<h1>d20.js</h1>
				<p class="lead">Javascript library for rolling dice. Supports strings written in a dice-rolling syntax, eg. "d20", "4d6", "1d8+1".</p>
				<a class="btn btn-primary btn-lg" href="https://github.com/michaelenger/d20.js">Download from GitHub</a>
			</header>
			<section id="basic" class="example">
				<h2>Basic Usage</h2>
				<p>Send the method a number to get a random number between 1 and said number.</p>
				<div class="row">
					<div class="col-sm-6">
						<pre class="code">d20.roll(6);
d20.roll(12);
d20.roll(20);</pre>
						<a class="btn btn-default" href=".">Run Example</a>
					</div>
					<div class="col-sm-6">
						<div class="results well"></div>
					</div>
				</div>
			</section>
			<section id="syntax" class="example">
				<h2>Dice Syntax</h2>
				<p>You can use a dice syntax to determine the amount of dice to roll as well as adding modifiers.</p>
				<div class="row">
					<div class="col-sm-6">
						<pre class="code">d20.roll('4d6');
d20.roll('d12+1');
d20.roll('4d20-10');</pre>
						<a class="btn btn-default" href=".">Run Example</a>
					</div>
					<div class="col-sm-6">
						<div class="results well"></div>
					</div>
				</div>
			</section>
			<section id="verbose" class="example">
				<h2>Verbose Output</h2>
				<p>Use the "verbose output" option to get an ordered list of all the dice results instead of a single value.</p>
				<div class="row">
					<div class="col-sm-6">
						<pre class="code">d20.roll(6, true);
d20.roll('d12+1', true);
d20.roll('4d20', true);</pre>
						<a class="btn btn-default" href=".">Run Example</a>
					</div>
					<div class="col-sm-6">
						<div class="results well"></div>
					</div>
				</div>
			</section>
			<section id="custom" class="example">
				<h2>Try it yourself!</h2>
				<p>Write down some dice rolls to see the results.</p>
				<div class="row">
					<div class="col-sm-6">
						<form>
							<input type="text" class="form-control" name="input" placeholder="Example: d20, 4d6+2">
							<a class="btn btn-default" href=".">Run Example</a>
							<label>
								<input type="checkbox" name="verbose" value="1">
								Verbose output
							</label>
						</form>
					</div>
					<div class="col-sm-6">
						<div class="results well"></div>
					</div>
				</div>
			</section>
			<footer class="text-muted">
				<a href="http://michaelenger.github.io/">I made this â™¥</a>
				&middot;
				<a href="http://michaelenger.github.io/rpgdicebag/">See it in action!</a>
				<a href="https://github.com/michaelenger/d20.js"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
			</footer>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="d20.js"></script>
		<script>
		jQuery(document).ready(function() {
			function runExample(type) {
				var result = '';

				switch (type) {
					case 'basic':
						result = d20.roll(6);
						result += "<br>" + d20.roll(12);
						result += "<br>" + d20.roll(20);
					break;
					case 'syntax':
						result = d20.roll('4d6');
						result += "<br>" + d20.roll('d12+1');
						result += "<br>" + d20.roll('4d20-10');
					break;
					case 'verbose':
						var list;
						list = d20.roll(6, true);
						result = list.join(' ');
						list = d20.roll('d12+1', true);
						result += '<br>' + list.join(' ');
						list = d20.roll('4d20', true);
						result += '<br>' + list.join(' ');
					break;
					case 'custom':
						var value = $('#custom input[name=input]').val(),
							verbose = $('#custom input[name=verbose]').is(':checked');
						if (value.search(' ') != -1) {
							values = value.split(' ');
						} else {
							values = [value];
						}

						result = '';
						for (var i in values) {
							temp = d20.roll(values[i], verbose);
							if (verbose) {
								temp = temp.join(' ');
							}
							result += (result != '' ? '<br>' : '') + temp
						}
					break;
					default:
						alert('I can smell your breath from here..');
				}

				jQuery('#' + type + ' .results').html(result);
			}

			jQuery('.example .btn').on('click', function(e) {
				e.preventDefault();
				runExample($(this).parents('.example').attr('id'));
			});
			jQuery('#custom form').on('submit', function(e) {
				e.preventDefault();
				runExample('custom');
			});

			runExample('basic');
			runExample('syntax');
			runExample('verbose');
		});
		</script>
	</body>
</html>
